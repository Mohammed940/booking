# كيفية الوصول إلى لوحة الإدارة بعد النشر على Vercel

## الخطوات المطلوبة للوصول إلى لوحة الإدارة:

### 1. التأكد من إعداد المتغيرات البيئية
قبل الوصول إلى لوحة الإدارة، يجب التأكد من إعداد المتغيرات البيئية التالية في Vercel:

- `TELEGRAM_TOKEN` - رمز التيليجرام للبوت
- `SUPABASE_URL` - عنوان قاعدة بيانات Supabase
- `SUPABASE_KEY` - مفتاح الوصول إلى Supabase
- `ADMIN_CHAT_ID` - رقم تعريف المدير (اختياري لكن موصى به للأمان)

### 2. الوصول إلى لوحة الإدارة
بعد نشر المشروع على Vercel، يمكنك الوصول إلى لوحة الإدارة من خلال:

1. زيارة الرابط الرئيسي للموقع: `https://your-vercel-url.vercel.app`
   - سيتم إعادة توجيهك تلقائيًا إلى لوحة الإدارة

2. أو زيارة الرابط المباشر: `https://your-vercel-url.vercel.app/admin-panel.html`

### 3. حل مشكلة "404: NOT_FOUND"
إذا ظهرت لك رسالة "404: NOT_FOUND" عند محاولة الوصول إلى لوحة الإدارة، فهذا يعني أن المسار غير محدد بشكل صحيح في ملف vercel.json.

لقد تم تحديث ملف vercel.json لإصلاح هذه المشكلة، وتأكد من إعادة نشر المشروع على Vercel لتطبيق التغييرات.

### 4. حل مشكلة "Unauthorized access"
إذا ظهرت لك رسالة "Unauthorized access" عند محاولة الوصول إلى واجهة برمجة التطبيقات الإدارية، فهذا يعني أن رقم تعريف المدير غير محدد أو غير صحيح.

لحل هذه المشكلة:

1. افتح تطبيق Telegram
2. ابدأ محادثة مع بوتك
3. أرسل الأمر `/start` للحصول على رقم تعريف المحادثة
4. أضف هذا الرقم إلى متغير البيئة `ADMIN_CHAT_ID` في إعدادات Vercel

### 5. استخدام واجهة برمجة التطبيقات الإدارية
يمكنك أيضًا استخدام واجهة برمجة التطبيقات الإدارية مباشرة من خلال إرسال طلبات HTTP إلى النقاط التالية:

- إضافة مركز طبي: `POST /api/admin/centers`
- إضافة عيادة: `POST /api/admin/clinics`
- إضافة فترات زمنية: `POST /api/admin/slots`
- الحصول على جميع المراكز: `GET /api/admin/centers`
- الحصول على العيادات في مركز معين: `GET /api/admin/clinics/:centerName`
- الحصول على المواعيد: `GET /api/admin/appointments`

عند استخدام واجهة برمجة التطبيقات، يجب إرسال رقم تعريف المدير في رأس الطلب (Header) باستخدام المفتاح `x-admin-id` أو كمعامل استعلام (Query Parameter) باستخدام الاسم `adminId`.