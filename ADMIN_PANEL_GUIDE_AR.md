# دليل استخدام لوحة الإدارة

## مقدمة

تتيح لك لوحة الإدارة إدارة كامل نظام الحجز الطبي من خلال واجهة بسيطة وسهلة الاستخدام أو عبر الواجهة البرمجية (API). يمكنك من خلال هذه اللوحة:

1. إضافة المراكز الصحية
2. إضافة العيادات لكل مركز
3. توليد المواعيد المتاحة
4. متابعة الحجوزات
5. إرسال التذكيرات

## الوصول إلى لوحة الإدارة

### عبر تيليجرام:
1. أرسل الأمر `/admin` إلى البوت من حساب المدير
2. ستحصل على رابط للوصول إلى لوحة الإدارة

### عبر المتصفح:
1. افتح الرابط: `https://your-project.vercel.app/admin-panel.html`
2. استخدم الواجهة البرمجية عبر المسار: `https://your-project.vercel.app/api/admin`

## شرح أقسام لوحة الإدارة

### 1. قسم المراكز الصحية
- **إضافة مركز صحي جديد**: أدخل اسم المركز، العنوان، ورقم الهاتف
- **عرض المراكز**: تعرض قائمة بجميع المراكز المسجلة مع تفاصيلها

### 2. قسم العيادات
- **إضافة عيادة**: اختر المركز، ثم أدخل اسم العيادة ووصفها
- **عرض العيادات**: اختر مركزاً لعرض جميع العيادات التابعة له

### 3. قسم المواعيد المتاحة
- **توليد مواعيد**: اختر المركز والعيادة، ثم حدد التاريخ وأوقات البدء والانتهاء
- **مدة الموعد**: حدد مدة كل موعد (افتراضياً 30 دقيقة)

### 4. قسم الحجوزات
- **عرض الحجوزات**: عرض جميع الحجوزات مع تفاصيل المرضى والمواعيد
- **حالة الحجز**: متابعة حالة كل حجز (مؤكد، ملغي، مكتمل)

## استخدام الواجهة البرمجية (API)

### إضافة مركز صحي
```bash
POST /api/admin/centers
Content-Type: application/json

{
  "name": "اسم المركز",
  "address": "عنوان المركز",
  "phone": "رقم الهاتف"
}
```

### إضافة عيادة
```bash
POST /api/admin/clinics
Content-Type: application/json

{
  "name": "اسم العيادة",
  "centerName": "اسم المركز",
  "description": "وصف العيادة"
}
```

### توليد مواعيد متاحة
```bash
POST /api/admin/slots
Content-Type: application/json

{
  "clinicName": "اسم العيادة",
  "centerName": "اسم المركز",
  "date": "2023-12-01",
  "startTime": "08:00",
  "endTime": "17:00",
  "duration": 30
}
```

### عرض الحجوزات
```bash
GET /api/admin/appointments
```

### إرسال التذكيرات
```bash
POST /api/reminders/check
```

## إعدادات الأمان

### مصادقة المدير
- يتم التحقق من هوية المدير عبر معرف المحادثة (ADMIN_CHAT_ID)
- يجب تعيين متغير البيئة ADMIN_CHAT_ID في إعدادات Vercel

### كيفية الحصول على ADMIN_CHAT_ID
1. ابدأ محادثة مع البوت من حسابك
2. أرسل أي رسالة
3. تحقق من سجلات Vercel لرؤية معرف المحادثة
4. أضف ADMIN_CHAT_ID إلى متغيرات البيئة في Vercel

## نصائح مهمة

### 1. التهيئة الأولية
- قم بإضافة المراكز الصحية أولاً
- ثم أضف العيادات لكل مركز
- أخيراً قم بتوليد المواعيد المتاحة

### 2. الصيانة الدورية
- راجع الحجوزات بانتظام
- تأكد من عمل نظام التذكير
- حدث المعلومات حسب الحاجة

### 3. حل المشاكل الشائعة
- إذا لم تظهر البيانات، تأكد من صحة الاتصال بقاعدة البيانات
- إذا فشل إرسال التذكيرات، تحقق من توقيت الخادم
- إذا لم تتمكن من الوصول للوحة، تأكد من إعدادات Vercel

## الدعم الفني

في حالة وجود أي مشاكل أو استفسارات، يرجى التواصل مع فريق الدعم الفني.